-- Create Database
CREATE DATABASE w26drandall3_projectDB;
use w26drandall3_projectDB;

-- Create Tables and Insert Sample Data
CREATE TABLE author (
    authorID VARCHAR(4) PRIMARY KEY,
    lastName VARCHAR(20),
    firstName VARCHAR(20)
); 
 
INSERT INTO author VALUES
('S100','SMITH', 'SAM'),
('J100','JONES','JANICE'), 
('A100','AUSTIN','JAMES'), 
('M100','MARTINEZ','SHEILA'), 
('K100','KZOCHSKY','TAMARA'), 
('P100','PORTER','LISA'), 
('A105','ADAMS','JUAN'),
('B100','BAKER','JACK'),  
('P105','PETERSON','TINA'), 
('W100','WHITE','WILLIAM'), 
('W105','WHITE','LISA'), 
('R100','ROBINSON','ROBERT'), 
('F100','FIELDS','OSCAR'),
('W110','WILKINSON','ANTHONY'); 

CREATE TABLE publisher (
    publisherID INT PRIMARY KEY,
    name VARCHAR(23),
    contact VARCHAR(15),
    phone VARCHAR(12)
); 
 
INSERT INTO publisher VALUES
(1,'PRINTING IS US','TOMMIE SEYMOUR','000-714-8321'), 
(2,'PUBLISH OUR WAY','JANE TOMLIN','010-410-0010'), 
(3,'AMERICAN PUBLISHING','DAVID DAVIDSON','800-555-1211'),
(4,'READING MATERIALS INC.','RENEE SMITH','800-555-9743'), 
(5,'REED-N-RITE','SEBASTIAN JONES','800-555-8284');

CREATE TABLE customer (
    customerID INT PRIMARY KEY,
    lastName VARCHAR(20) NOT NULL,
    firstName VARCHAR(20) NOT NULL,
    street VARCHAR(20),
    city VARCHAR(12),
    state VARCHAR(2),
    zip VARCHAR(5),
    region CHAR(2),
    CHECK (region IN ('N' , 'NW', 'NE', 'S', 'SE', 'SW', 'W', 'E'))
);

INSERT INTO customer VALUES
(1001, 'MORALES', 'BONITA', 'P.O. BOX 651', 'EASTPOINT', 'FL', '32328', 'SE'),
(1002, 'THOMPSON', 'RYAN', 'P.O. BOX 9835', 'SANTA MONICA', 'CA', '90404', 'W'),
(1003, 'SMITH', 'LEILA', 'P.O. BOX 66', 'TALLAHASSEE', 'FL', '32306', 'SE'),
(1004, 'PIERSON', 'THOMAS', '69821 SOUTH AVENUE', 'BOISE', 'ID', '83707', 'NW'), 
(1005, 'GIRARD', 'CINDY', 'P.O. BOX 851', 'SEATTLE', 'WA', '98115', 'NW'), 
(1006, 'CRUZ', 'MESHIA', '82 DIRT ROAD', 'ALBANY', 'NY', '12211', 'NE'),
(1007, 'GIANA', 'TAMMY', '9153 MAIN STREET', 'AUSTIN', 'TX', '78710', 'SW'),
(1008, 'JONES', 'KENNETH', 'P.O. BOX 137', 'CHEYENNE', 'WY', '82003', 'N'),
(1009, 'PEREZ', 'JORGE', 'P.O. BOX 8564', 'BURBANK', 'CA', '91510', 'W'), 
(1010, 'LUCAS', 'JAKE', '114 EAST SAVANNAH', 'ATLANTA', 'GA', '30314', 'SE'), 
(1011, 'MCGOVERN', 'REESE', 'P.O. BOX 18', 'CHICAGO', 'IL', '60606', 'N'),  
(1012, 'MCKENZIE', 'WILLIAM', 'P.O. BOX 971', 'BOSTON', 'MA', '02110', 'NE'), 
(1013, 'NGUYEN', 'NICHOLAS', '357 WHITE EAGLE AVE.', 'CLERMONT', 'FL', '34711', 'SE'), 
(1014, 'LEE', 'JASMINE', 'P.O. BOX 2947', 'CODY', 'WY', '82414', 'N'), 
(1015, 'SCHELL', 'STEVE', 'P.O. BOX 677', 'MIAMI', 'FL', '33111', 'SE'),
(1016, 'DAUM', 'MICHELL', '9851231 LONG ROAD', 'BURBANK', 'CA', '91508', 'W'),
(1017, 'NELSON', 'BECCA', 'P.O. BOX 563', 'KALMAZOO', 'MI', '49006', 'N'), 
(1018, 'MONTIASA', 'GREG', '1008 GRAND AVENUE', 'MACON', 'GA', '31206', 'SE'),
(1019, 'SMITH', 'JENNIFER', 'P.O. BOX 1151', 'MORRISTOWN', 'NJ', '07962', 'NE'), 
(1020, 'FALAH', 'KENNETH', 'P.O. BOX 335', 'TRENTON', 'NJ', '08607', 'NE'); 
 
 CREATE TABLE book (
    ISBN VARCHAR(10) PRIMARY KEY,
    title VARCHAR(30),
    publicationDate DATE,
    publisherID INT,
    price DECIMAL(5, 2),
    category VARCHAR(12),
    FOREIGN KEY (publisherID) REFERENCES publisher (publisherID)
); 
 
INSERT INTO book VALUES
('1059831198','BODYBUILD IN 10 MINUTES A DAY','2005-01-21', 4, 30.95,'FITNESS'), 
('0401140733','REVENGE OF MICKEY','2005-12-14', 1, 22.00, 'FAMILY LIFE'), 
('4981341710','BUILDING A CAR WITH TOOTHPICKS','2006-03-18', 2, 59.95, 'CHILDREN'), 
('8843172113','DATABASE IMPLEMENTATION','2003-06-04', 3, 55.95, 'COMPUTER'), 
('3437212490','COOKING WITH MUSHROOMS','2004-02-28', 4, 19.95, 'COOKING'),
('3957136468','HOLY GRAIL OF ORACLE','2005-12-31', 3, 75.95, 'COMPUTER'),
('1915762492','HANDCRANKED COMPUTERS','2005-01-21', 3, 25.00, 'COMPUTER'), 
('9959789321','E-BUSINESS THE EASY WAY','2006-03-01', 2, 54.50, 'COMPUTER'),
('2491748320','PAINLESS CHILD-REARING','2004-07-17', 5, 89.95, 'FAMILY LIFE'),
('0299282519','THE WOK WAY TO COOK','2004-09-11', 4, 28.75, 'COOKING'),
('8117949391','BIG BEAR AND LITTLE DOVE','2005-11-08', 5, 8.95, 'CHILDREN'),
('0132149871','HOW TO GET FASTER PIZZA','2006-11-11', 4, 29.95, 'SELF HELP'),
('9247381001','HOW TO MANAGE THE MANAGER','2003-05-09', 1, 31.95, 'BUSINESS'),
('2147428890','SHORTEST POEMS','2005-05-01', 5, 39.95, 'LITERATURE'); 

CREATE TABLE book_author (
    ISBN VARCHAR(10),
    authorID VARCHAR(4),
    ranks VARCHAR(10),
    PRIMARY KEY (ISBN, authorID),
    FOREIGN KEY (ISBN) REFERENCES book (ISBN),
    FOREIGN KEY (authorID) REFERENCES author (authorID)
); 
 
INSERT INTO book_author VALUES
('1059831198','S100', 'first'), 
('1059831198','P100', 'second'),
('0401140733','J100', 'first'), 
('4981341710','K100', 'first'), 
('8843172113','P105', 'first'), 
('8843172113','A100', 'second'), 
('8843172113','A105', 'third'), 
('3437212490','B100', 'first'), 
('3957136468','A100', 'first'), 
('1915762492','W100', 'first'), 
('1915762492','W105', 'second'), 
('9959789321','J100', 'first'), 
('2491748320','R100', 'first'), 
('2491748320','F100', 'second'), 
('2491748320','B100', 'third'), 
('0299282519','S100', 'first'), 
('8117949391','R100', 'first'), 
('0132149871','S100', 'first'), 
('9247381001','W100', 'first'), 
('2147428890','W105', 'first'); 
 
CREATE TABLE orders (
    orderID INT PRIMARY KEY,
    customerID INT,
    orderDate DATE NOT NULL,
    shipCost DECIMAL(4, 2),
    FOREIGN KEY (customerID) REFERENCES customer (customerID)
); 
 
INSERT INTO orders VALUES
(1000, 1005, '2025-10-31', 2.00), 
(1001, 1010, '2025-10-31', 3.00), 
(1002, 1011, '2025-10-31', 3.00), 
(1003, 1001, '2025-11-01', 4.00), 
(1004, 1020, '2025-11-01', NULL), 
(1005, 1018, '2025-11-01', 2.00), 
(1006, 1003, '2025-11-01', 2.00), 
(1007, 1007, '2025-11-02', 7.00), 
(1008, 1004, '2025-11-02', 3.00), 
(1009, 1005, '2025-11-03', NULL), 
(1010, 1019, '2025-11-03', 2.00), 
(1011, 1010, '2025-11-03', 2.00), 
(1012, 1017, '2025-11-03', 6.00), 
(1013, 1014, '2025-11-03', 2.00), 
(1014, 1007, '2025-11-04', 3.00), 
(1015, 1020, '2025-11-04', 2.00), 
(1016, 1003, '2025-11-04', 2.00), 
(1017, 1015, '2025-11-04', 3.00), 
(1018, 1001, '2025-11-05', NULL), 
(1019, 1018, '2025-11-05', 2.00), 
(1020, 1008, '2025-11-05', 2.00);

CREATE TABLE items (
    orderID INT,
    itemNumber INT,
    quantity INT NOT NULL,
    ISBN VARCHAR(10),
    CHECK (quantity > 0),
    PRIMARY KEY (orderID, itemNumber),
    FOREIGN KEY (orderID) REFERENCES orders (orderID),
    FOREIGN KEY (ISBN) REFERENCES book (ISBN)
);
 
INSERT INTO items VALUES
(1000, 1, 1, '3437212490'),  
(1001, 1, 1, '9247381001'),  
(1001, 2, 1, '2491748320'),  
(1002, 1, 2, '8843172113'),  
(1003, 1, 1, '8843172113'),  
(1003, 2, 1, '1059831198'), 
(1003, 3, 1, '3437212490'), 
(1004, 1, 2, '2491748320'), 
(1005, 1, 1, '2147428890'), 
(1006, 1, 1, '9959789321'), 
(1007, 1, 3, '3957136468'), 
(1007, 2, 1, '9959789321'), 
(1007, 3, 1, '8117949391'), 
(1007, 4, 1, '8843172113'), 
(1008, 1, 1, '3437212490'), 
(1009, 1, 1, '3437212490'), 
(1009, 2, 1, '0401140733'), 
(1010, 1, 1, '8843172113'), 
(1011, 1, 1, '2491748320'), 
(1012, 1, 1, '8117949391'), 
(1012, 2, 2, '1915762492'), 
(1012, 3, 1, '2491748320'), 
(1012, 4, 1, '0401140733'), 
(1013, 1, 1, '8843172113'), 
(1014, 1, 2, '0401140733'), 
(1015, 1, 1, '3437212490'), 
(1016, 1, 1, '2491748320'), 
(1017, 1, 2, '8117949391'), 
(1018, 1, 1, '3437212490'), 
(1018, 2, 1, '8843172113'), 
(1019, 1, 1, '0401140733'), 
(1020, 1, 1, '3437212490');
